
<div class="container">
  <form [formGroup]="inventoryForm" (ngSubmit)="onSubmit()">
    <div class="ingredient">
      <h2>Les ingrédients que vous avez!</h2>
    </div>

    <fieldset formArrayName="ingredients" class="inventory">
      <legend>Ingredients</legend>
      @for(control of ingredients.controls; track control){
        <fieldset formGroupName="{{$index}}">
          <legend>Ingredient {{$index +1}}</legend>
          <label [for]="'ingredient' + $index">Choisir un ingredient:</label>
          <select [id]="'ingredient' + $index" formControlName="ingredient">
            @for(ing of ingredientsList; track ing){
              <option [ngValue]="ing">{{ ing.name }}</option>
            }
          </select>
          <div>
            <label [for]="'quantity' + $index">Quantité :</label>
            <input type="number" [id]="'quantity' + $index" name="quantity" formControlName="quantity" required>
          </div>
        </fieldset>
      }
      <button type="button" (click)="addIngredient()">Ajouter un ingredient</button>
    </fieldset>
    <button>Sauvegarder</button>
  </form>
</div>
